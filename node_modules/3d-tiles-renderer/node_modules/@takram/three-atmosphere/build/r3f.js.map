{"version":3,"file":"r3f.js","sources":["../src/r3f/Atmosphere.tsx","../src/r3f/separateProps.ts","../src/r3f/AerialPerspective.tsx","../src/r3f/Sky.tsx","../node_modules/.pnpm/react-merge-refs@2.1.1/node_modules/react-merge-refs/dist/index.mjs","../src/r3f/SkyLight.tsx","../src/r3f/Stars.tsx","../src/r3f/SunLight.tsx","../src/r3f/useAtmosphereTextureProps.ts"],"sourcesContent":null,"names":["AtmosphereContext","createContext","Atmosphere","forwardRef","texturesProp","useHalfFloat","ellipsoid","Ellipsoid","correctAltitude","photometric","date","children","forwardedRef","transientPropsRef","useRef","Vector3","Matrix4","gl","useThree","textures","setTextures","useState","useEffect","loader","PrecomputedTexturesLoader","error","context","useMemo","updateByDate","sunDirection","moonDirection","rotationMatrix","getECIToECEFRotationMatrix","getSunDirectionECI","getMoonDirectionECI","timestamp","useImperativeHandle","separateProps","params","irradianceTexture","scatteringTexture","transmittanceTexture","sunAngularRadius","renderTargetCount","others","AerialPerspective","props","transientProps","contextProps","useContext","atmosphereParameters","blendFunction","aerialPerspectiveEffectOptionsDefaults","EffectComposerContext","normalPass","camera","geometryTexture","RenderPass","Texture","effect","AerialPerspectiveEffect","useFrame","jsx","Sky","sun","moon","moonAngularRadius","lunarRadianceScale","skyMaterialParametersDefaults","material","SkyMaterial","ScreenQuad","SKY_RENDER_ORDER","o","r","n","SkyLight","ref","probe","extend","SkyLightProbe","mergeRefs","Stars","dataProp","pointSize","radianceScale","background","starsMaterialParametersDefaults","data","setData","ArrayBufferLoader","geometry","StarsGeometry","StarsMaterial","_a","jsxs","SunLight","position","light","target","Object3D","SunDirectionalLight","Fragment","useAtmosphereTextureProps","url","useLoader"],"mappings":"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","x_google_ignoreList":[4]}