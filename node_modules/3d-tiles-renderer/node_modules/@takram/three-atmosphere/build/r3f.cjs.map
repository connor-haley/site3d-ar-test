{"version":3,"file":"r3f.cjs","sources":["../src/r3f/Atmosphere.tsx","../src/r3f/separateProps.ts","../src/r3f/AerialPerspective.tsx","../src/r3f/Sky.tsx","../node_modules/.pnpm/react-merge-refs@2.1.1/node_modules/react-merge-refs/dist/index.mjs","../src/r3f/SkyLight.tsx","../src/r3f/Stars.tsx","../src/r3f/SunLight.tsx","../src/r3f/useAtmosphereTextureProps.ts"],"sourcesContent":null,"names":["AtmosphereContext","createContext","Atmosphere","forwardRef","texturesProp","useHalfFloat","ellipsoid","Ellipsoid","correctAltitude","photometric","date","children","forwardedRef","transientPropsRef","useRef","Vector3","Matrix4","gl","useThree","textures","setTextures","useState","useEffect","loader","PrecomputedTexturesLoader","error","context","useMemo","updateByDate","sunDirection","moonDirection","rotationMatrix","getECIToECEFRotationMatrix","getSunDirectionECI","getMoonDirectionECI","timestamp","useImperativeHandle","separateProps","params","irradianceTexture","scatteringTexture","transmittanceTexture","sunAngularRadius","renderTargetCount","others","AerialPerspective","props","transientProps","contextProps","useContext","atmosphereParameters","blendFunction","aerialPerspectiveEffectOptionsDefaults","EffectComposerContext","normalPass","camera","geometryTexture","RenderPass","Texture","effect","AerialPerspectiveEffect","useFrame","jsx","Sky","sun","moon","moonAngularRadius","lunarRadianceScale","skyMaterialParametersDefaults","material","SkyMaterial","ScreenQuad","SKY_RENDER_ORDER","o","f","r","n","SkyLight","ref","probe","extend","SkyLightProbe","mergeRefs","Stars","dataProp","pointSize","radianceScale","background","starsMaterialParametersDefaults","data","setData","ArrayBufferLoader","geometry","StarsGeometry","StarsMaterial","_a","jsxs","SunLight","position","light","target","Object3D","SunDirectionalLight","Fragment","useAtmosphereTextureProps","url","useLoader"],"mappings":"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","x_google_ignoreList":[4]}